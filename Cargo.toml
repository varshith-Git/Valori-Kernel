[package]
name = "valori-kernel"
version = "0.1.0"
edition = "2021"
license = "AGPL-3.0-only"

[dependencies]
blake3 = { version = "1.5", default-features = false }
serde = { version = "1.0", default-features = false, features = ["derive"] }
bincode = { version = "2.0.0-rc.3", default-features = false, features = ["serde"] }

[features]
std = []

[workspace]
members = [
    "node",
    "ffi",
    "verify",
    "embedded"
]

# Firmware requires abort on panic (no unwinding support in no_std)
# This also guarantees fail-closed behavior for the Node.
[profile.dev]
panic = "abort"

[profile.release]
panic = "abort"
